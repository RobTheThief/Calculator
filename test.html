<html>
   <body>

       <div class="container-fluid">
           <header>
             <h3>It's </h3>
               <h1>ROBULATOR</h1>

               <h3>    ..... the arithmetic calculator!</h3>
           </header>

    <form class="mainpanel">
           <input type="text" name="input" id="input" placeholder="INPUT">
           <div class="screen" id="result"></div>


    <!--   <div class="screen" id="numdisplay"></div> testing -->
  <!--   -->  <div class="screen" id="test"></div> <!--display output testing -->


       </form>

       </div> <!-- End Container-->

       <table class="numberpad">

         <tr>
           <td><button type="button" id="buttons2" class="btn btn-info" onclick="submit1()">Robulate!</button></td>
        </tr>

         <tr>
           <td><button type="button" id="buttons3" class="btn btn-info" onclick="clear1()">C</button></td>
           <td><button type="button" id="buttons4" class="btn btn-info" onclick="multiplyIt()">*</button></td>
           <td><button type="button" id="buttons5" class="btn btn-info" onclick="divideIt()">/</button></td>
        </tr>

         <tr>
           <td><button type="button" id="buttons16" class="btn btn-info" onclick="decimal()">.</button></td>
           <td><button type="button" id="buttons18" class="btn btn-info" onclick="plusnum()">+</button></td>
           <td><button type="button" id="buttons17" class="btn btn-info" onclick="minusnum()">-</button></td>
        </tr>

        <tr>
          <td><button type="button" id="buttons6" class="btn btn-info" onclick="num1()">1</button></td>
          <td><button type="button" id="buttons7" class="btn btn-info" onclick="num2()">2</button></td>
          <td><button type="button" id="buttons8" class="btn btn-info" onclick="num3()">3</button></td>
        </tr>

        <tr>
          <td><button type="button" id="buttons9" class="btn btn-info" onclick="num4()">4</button></td>
          <td><button type="button" id="buttons10" class="btn btn-info" onclick="num5()">5</button></td>
          <td><button type="button" id="buttons11" class="btn btn-info" onclick="num6()">6</button></td>
        </tr>

         <tr>
           <td><button type="button" id="buttons12" class="btn btn-info" onclick="num7()">7</button></td>
           <td><button type="button" id="buttons13" class="btn btn-info" onclick="num8()">8</button></td>
           <td><button type="button" id="buttons14" class="btn btn-info" onclick="num9()">9</button></td>
        </tr>

        <tr>
          <td><button type="button" id="buttons15" class="btn btn-info" onclick="num0()">0</button></td>
        </tr>

       </table>

   <footer>

   </footer>




   <style>
       .mainpanel {
           width: 130%;
       }

       #input,
       #result

       {
          float: center;
          width: 75%;

      }

      .numberpad {
          width: 70%;
      }
       #buttons2

        {
           float: left;
           width: 175%;
       background:#dbdbdb;
       }
       #buttons3,
       #buttons4,
       #buttons5,
       #buttons16,
       #buttons17,
       #buttons18,
       #buttons6,
       #buttons7,
       #buttons8,
       #buttons9,
       #buttons10,
       #buttons11,
       #buttons12,
       #buttons13,
       #buttons14
       {
           float: right;
           width: 100%;
       background:#dbdbdb;
       }

       #buttons15

       {
           float: right;
           width: 50%;
       background:#dbdbdb;
       }
       </style>



<script type="text/javascript">
  "use strict";

               var temp = [];
               var wrkNums = [];
               var inputArray = [];
               var sumIndicator = 0;
               var sum = 0;
               var multclick = 0;
               var divclick = 0;
               var a = 0;
               var str = 0;
               var result = 0;
               var loop = 0;
               var multRDivCount = 0;
               var savedInput = 0;
               document.getElementById("result").innerHTML = " = RESULT";
 // NUMBER PAD
               function num1(){
               document.getElementById("input").value += 1; //adds "1" to the end of the input
                }

               function num2(){
               document.getElementById("input").value += 2;
               }

               function num3(){
               document.getElementById("input").value += 3;
                }

               function num4(){
               document.getElementById("input").value += 4;
               }

               function num5(){
               document.getElementById("input").value += 5;
                }

               function num6(){
               document.getElementById("input").value += 6;
               }

               function num7(){
               document.getElementById("input").value += 7;
                }

               function num8(){
               document.getElementById("input").value += 8;
               }

               function num9(){
               document.getElementById("input").value += 9;
               }

               function num0(){
               document.getElementById("input").value += 0;
                }

               function minusnum(){
               document.getElementById("input").value += "-"; //adds "-" to the end of the input
               }

               function plusnum(){
               document.getElementById("input").value += "+"; //adds "+" to the end of the input
               }

               function multiplyIt(){
               document.getElementById("input").value += "*"; //adds "*" to the end of the input
               }

               function divideIt(){
               document.getElementById("input").value += "/"; //adds "/" to the end of the input
               }

               function decimal(){
               document.getElementById("input").value += "."; //adds "." to the end of the input
               }

               function clear1(){
                 inputArray.splice(0,inputArray.length); //empties input array
                 wrkNums.splice(0,wrkNums.length);//empties working number array
                 temp.splice(0,temp.length);//empties temp array
                 document.getElementById("input").value = "";
                 document.getElementById("result").innerHTML = " = RESULT";
                 document.getElementById("test").innerHTML = "";
                 document.getElementById("numdisplay").innerHTML = "";
                 sumIndicator = 0;
                 multclick = 0;
                 divclick = 0;
                 a = 0;
                 str = 0;
                 result = 0;
                 loop = 0;
                 multRDivCount = 0;
               }

            function submit1(){
              inputArray.splice(0,inputArray.length); //empties input array
              wrkNums.splice(0,wrkNums.length);//empties working number array
              temp.splice(0,temp.length);//empties temp array
              str = document.getElementById("input").value; //input numbers become string str
              savedInput = document.getElementById("input").value;//saves the input to put it back at the end
              inputArray = str.split("");//enters contents of input str into input array

              multRDivCount = 0;
              for(var k = 0; k < inputArray.length; ++k){ // counts how multiplications or divisions there are to do
                if(inputArray[k] == "*" || inputArray[k] == "/")
                multRDivCount++;
                }

              while (multRDivCount >= 0){
                 multclick = 0;
                 divclick = 0;
                 window.sumIndicator = 0;
                 inputArray.splice(0,inputArray.length); //empties display array
                 wrkNums.splice(0,wrkNums.length);//empties number array
                 temp.splice(0,temp.length);//empties temp array
                 str = document.getElementById("input").value; //input numbers become string str
                 inputArray = str.split("");//enters contents of input str into array

                 for (let b = 0; b < inputArray.length; b++){ //loops through the input array

                           if (isNaN(inputArray[b]) == false && b == 0){ //checks if the first char is + or - to avoid this being discounted. This is why sumIndicator is set to 0 initially
                             window.sumIndicator++;
                           }

                           if (inputArray[b] == "-" || inputArray[b] == "+"){
                             window.sumIndicator++;
                           }

                           if ( inputArray[b] == "*"){
                             a = temp.join(""); //a = temp array as string
                             wrkNums.push(a);//push a as one item into array of number we calculate from
                             temp.splice(0,temp.length);// empties temp array
                             wrkNums.push("*");//pushes "*" to working array
                             multclick = 1;
                            }

                           if ( inputArray[b] == "/"){
                             a = temp.join(""); //a = temp array as string
                             wrkNums.push(a);//push a as one item into array of number we calculate from
                             temp.splice(0,temp.length);// empties temp array
                             wrkNums.push("/");//pushes "/" to working array
                             divclick = 1;
                            }

                           if (window.sumIndicator == 2){
                             a = temp.join(""); //a = temp array as string
                             wrkNums.push(a);//push a as one item into array of number we calculate from
                             temp.splice(0,temp.length);// empties temp array
                             window.sumIndicator = 1;
                            }

                           if (isNaN(inputArray[b]) == false || inputArray[b] == "-" || inputArray[b] == "+" || inputArray[b] == "."){ // if it IS a number, - or + we push it from the input array to the temp array
                             temp.push(inputArray[b]);
                            }

                           if (wrkNums.indexOf("*") > wrkNums.indexOf("/") && divclick == 1){ //checks if there is multiplication after division and prevents the multiplication happening first
                             multclick = 0;
                            }

/******MULTIPLICATION******/
                           if (inputArray.length - 1 == b && multclick == 1 && loop == 0){
                             a = temp.join(""); // join temp array as sting a
                             wrkNums.push(a);//push this as one item in array
                             temp.splice(0,temp.length);// empties temp array
                             result=+ parseFloat(wrkNums[wrkNums.indexOf("*")-1]) * parseFloat(wrkNums[wrkNums.indexOf("*")+1]);//divides the item in the array after the "*" with the item before "*"

                             if (result >= 0){ //if the result is positive or "0" we add a + symbol so that the input string is sorted correctly
                               result = "+"+result;
                             }

                             b = 0;//resets the for loop
                             loop++;//adds 1 to the loop counter to prevent it repeating next time
                             wrkNums.splice(wrkNums.indexOf("*")-1,3,result);//replaced the multiplied section off the array with the result of the multiplication
                             document.getElementById("input").value=wrkNums.join("");// inserts the working array as a string into the input box
                             str = document.getElementById("input").value; //input numbers become string str
                             inputArray = str.split("");//enters contents of str into input array

                            }
      /******DIVISION******/
                            if (inputArray.length - 1 == b && divclick == 1 && loop == 0){
                              a = temp.join(""); // join temp array as sting a
                              wrkNums.push(a);//push this as one item in array
                              temp.splice(0,temp.length);// empties temp array
                              result=+ parseFloat(wrkNums[wrkNums.indexOf("/")-1]) / parseFloat(wrkNums[wrkNums.indexOf("/")+1]);//divides the item in the array after the "*" with the item before "*"

                              if (result >= 0){ //if the result is positive or "0" we add a + symbol so that the input string is sorted correctly
                                result = "+"+result;
                              }
                              b = 0;//resets the for loop
                              loop++;//adds 1 to the loop counter to prevent it repeating next time
                              wrkNums.splice(wrkNums.indexOf("/")-1,3,result);//replaced the multiplied section off the array with the result of the multiplication
                              document.getElementById("input").value=wrkNums.join("");// inserts the working array as a string into the input box
                              str = document.getElementById("input").value; //input numbers become string str
                              inputArray = str.split("");//enters contents of str into input array

                             }

                           if (inputArray.length - 1 == b && loop == 1){//resets loop counter to allow further multiplication. Is not run immediattly after multiplication code as "b" is reset to "0"
                             loop = 0;


                           }

                         } // for loop end

                             multRDivCount--; //reduces while loop counter

                 } //while loop end

/****SUMMING****/
                if (multclick == 0 && divclick == 0){//if there is no multiplication or division we can just sum up
                  a = temp.join("");// join temp array as sting a
                  wrkNums.push(a);//pushes it to the working array
                  for (var i = 0, sum = 0; i < wrkNums.length; sum += parseFloat(wrkNums[i++])){}//summs up the contents of the working array
                  document.getElementById("result").innerHTML=" = "+ parseFloat(sum);//displays the result
                  }

            //  document.getElementById("input").value = savedInput;//puts the original input back

              }// submit sunction end



           </script>

         </body>
         </html>
